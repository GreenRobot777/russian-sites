---
title: Страницы и шаблоны
---

### Переименованные файлы

Компонент настраиваемой страницы ошибки следует переименовать из `_error.svelte` в `$error.svelte`. Любые `_layout.svelte` файлы также должны быть переименованы в `$layout.svelte`. Префикс `_` теперь обозначает исключительно ваши собственные «частные» компоненты и модули, в отличие от тех, которые имеют особое значение для SvelteKit.

### Импорты

Импорт `goto`, `prefetch` и `prefetchRoutes` из `@sapper/app` следует заменить идентичным импортом из [`$app/navigation`](/docs#modules-app-navigation).

импорт `stores` из `@sapper/app` следует тоже заменить — подробнее в разделе [Хранилища](#страницы-и-шаблоны-хранилища).

Любые файлы, которые вы ранее импортировали из каталогов в `src/node_modules` необходимо будет заменить на импорты из [`$lib`](/docs#modules-lib).

### Предварительная загрузка

Как и раньше, страницы и компоненты шаблона могут экспортировать функцию, которая позволяет загружать данные перед рендером.

Эта функция была переименована из `preload` в [`load`](/docs#loading), и его API изменился. Вместо двух аргументов — `page` и `session` — tесть один аргумент, который включает оба, вместе с `fetch` (который заменяет `this.fetch`) и новый объект `context`.

Больше нет объекта `this` и, следовательно, нет `this.fetch`, `this.error` или `this.redirect`. Вместо того, чтобы напрямую возвращать реквизиты, `load` теперь возвращает объект, который *содержит* `props`, а также различные другие вещи.

### Хранилища

В Sapper вы получите ссылки на предоставленные хранилища, например:

```js
import { stores } from '@sapper/app';
const { preloading, page, session } = stores();
```

Хранилища `page` и `session` все еще существуют; `preloading` был заменен на `navigating` который содержит свойства `from` и `to`.

В SvelteKit вы получаете к ним доступ по-другому. `stores` теперь называется `getStores`, но в большинстве случаев в этом нет необходимости, поскольку вы можете импортировать `navigating`, `page` и `session` прямо из [`$app/stores`](/docs#modules-app-stores).

### &lt;a&gt; атрибуты

* `sapper:prefetch` => `sveltekit:prefetch`
* `sapper:noscroll` => `sveltekit:noscroll`