---
title: Исправление проблем
---

### Серверный рендеринг

SvelteKit сначала рендерит любой компонент на стороне сервера и отправляет его клиенту в виде HTML. Затем он снова запустит компонент на стороне клиента, чтобы позволить ему обновляться на основе динамических данных. Поэтому вам необходимо убедиться, что компоненты могут работать как на стороне клиента, так и на стороне сервера.

Например, если ваши компоненты попытаются получить доступ к глобальным переменным `document` или `window`, это приведет к ошибке, когда страница предварительно рендерится на стороне сервера.

Если вам нужен доступ к этим переменным, вы можете запустить код исключительно на стороне клиента, обернув его таким образом:

```js
import { browser } from '$app/env';

if (browser) {
	// client-only code here
}
```

В качестве альтернативы вы можете запустить его в функции `onMount`, поскольку она работает только в браузере. Это также хороший способ загрузить библиотеки, зависящие от объекта `window`:

```html
<script>
	import { onMount } from 'svelte';

	let awkward;

	onMount(async () => {
		const module = await import('some-browser-only-library');
		awkward = module.default;
	});
</script>
```
